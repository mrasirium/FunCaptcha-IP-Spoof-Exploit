import requests
import secrets

random_ip_address = f"20a2:{secrets.token_hex(2)}:{secrets.token_hex(2)}:{secrets.token_hex(2)}:{secrets.token_hex(2)}:{secrets.token_hex(2)}:{secrets.token_hex(2)}:{secrets.token_hex(2)}"

print(random_ip_address)

# Basically you just have to include this in your current headers.
# This will spoof your current IP to the random one.
# Please note that you have to use the right time zone of the spoofed IP in the fingerprint. (TO key in FE part)
# Using a wrong IP will force the challenge to be at >5 waves, be sure to use a valid one.
headers = {
    'True-Client-IP': random_ip_address,
    'CF-Connecting-IP': random_ip_address,
    'X-Forwarded-For': random_ip_address,
}

# And then, just continue with the normal request with a FunCaptcha subdomain that doesn't have Cloudflare.
# For example funcaptcha-eb-prod.arkoselabs.com or funcaptcha-eb-prod2.arkoselabs.com
requests.post('https://funcaptcha-eb-prod2.arkoselabs.com/fc/gt2/public_key/...', headers=headers)

# To get images, just replace this subdomain with the normal one, i.e. client-api
